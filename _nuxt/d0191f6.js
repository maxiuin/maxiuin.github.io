(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{472:function(e,t,l){var content=l(497);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(28).default)("7362e144",content,!0,{sourceMap:!1})},496:function(e,t,l){"use strict";l(472)},497:function(e,t,l){var o=l(27)((function(i){return i[1]}));o.push([e.i,".sl-vue-tree-container{box-shadow:none;flex:1;height:100%;outline:none;overflow:auto;width:100%}.select-helper-container{height:0;position:relative}.select-helper{background:#3b89ec;border:1px solid #2a67e7;opacity:.4;position:relative}.select-helper-last{position:absolute}",""]),o.locals={},e.exports=o},513:function(e,t,l){"use strict";l.r(t);l(50),l(33),l(5),l(478),l(16),l(91),l(479),l(480),l(481),l(483),l(484),l(485),l(486),l(487),l(488),l(489),l(490),l(491),l(492),l(493),l(494),l(495),l(37),l(17);var o={name:"SelectTree",components:{SlVueTree:l(514).default},props:{isHeightLight:{type:Function}},data:function(){return{lastIsMouse:null,lastSelectedNode:null,lastSelectedNodesPathStr:[],contextMenuActive:!1,selectHelperDisplay:!1,selectHelperSelectionsSet:new Set,selectHelperSelectionsFirstNode:null,selectHelperSelectionsFirstNodePosition:{x:1/0,y:1/0},selectHelperStartPoint:{x:0,y:0},selectHelperRect:{x:0,y:0,width:0,height:0},rootRect:{x:0,y:0,width:0,height:0},keyboardShiftLastSelectedNode:null}},methods:{select:function(){var e;return(e=this.$refs.tree).select.apply(e,arguments)},getNode:function(){var e;return(e=this.$refs.tree).getNode.apply(e,arguments)},getNodeEl:function(){var e;return(e=this.$refs.tree).getNodeEl.apply(e,arguments)},remove:function(){var e;return(e=this.$refs.tree).remove.apply(e,arguments)},onToggleHandler:function(){var e;return(e=this.$refs.tree).onToggleHandler.apply(e,arguments)},getSelected:function(){var e;return(e=this.$refs.tree).getSelected.apply(e,arguments)},updateNode:function(){var e;return(e=this.$refs.tree).updateNode.apply(e,arguments)},emitNodeContextmenu:function(e){return this.selectHelperDisplay=!0,this.selectHelperSelectionsSet.clear(),this.select([0],!1,e),this.selectHelperDisplay=!1,this.$refs.tree.emitNodeContextmenu(null,e)},setRootRect:function(){this.rootRect=this.$el.getBoundingClientRect(),this.rootRect.width-=2,this.rootRect.height-=2},setLastSelectedNode:function(e){this.lastSelectedNode=e},setSelectRect:function(e,t,l,o){this.selectHelperRect.x=e,this.selectHelperRect.y=t,this.selectHelperRect.height=o-2,this.selectHelperRect.width=l-2,this.setSelectHelperStyle("selectHelper",e,t,l,o)},setSelectHelperStyle:function(e,t,l,o,r){this.$refs[e].style.top="".concat(l-this.rootRect.y+this.$el.scrollTop,"px"),this.$refs[e].style.left="".concat(t-this.rootRect.x+this.$el.scrollLeft,"px"),this.$refs[e].style.width="".concat(o,"px"),this.$refs[e].style.height="".concat(r,"px")},setLastIsMouse:function(e){if(e){var t=e.type.startsWith("mouse");"boolean"==typeof this.lastIsMouse&&this.lastIsMouse!==t&&(this.lastIsMouse?this.keyboardShiftLastSelectedNode=this.lastSelectedNode:this.lastSelectedNode=this.keyboardShiftLastSelectedNode),this.lastIsMouse=t}},onKeyDown:function(e){switch(e.preventDefault(),e.code){case"ArrowUp":case"ArrowDown":var t,l=this.$refs.tree.$el.querySelectorAll(".sl-vue-tree-node-item");if(this.lastSelectedNode){for(var i=0;i<l.length;i++)if(l[i].getAttribute("path")===this.lastSelectedNode.pathStr){t=l[i+("ArrowUp"===e.code?-1:1)];break}}else t=l[0];if(!t)return;var rect=t.getBoundingClientRect();this.setRootRect(),rect.top-rect.height<0?this.$el.scrollBy(this.$el.scrollLeft,-rect.height):rect.bottom>this.rootRect.height&&this.$el.scrollBy(this.$el.scrollLeft,rect.height);var o=this.$refs.tree.multiSelectKeyIsPressed(e),r=this.$refs.tree.allowMultiselect&&this.lastSelectedNode&&e&&e.shiftKey;this.keyboardShiftLastSelectedNode=r?this.keyboardShiftLastSelectedNode||this.lastSelectedNode:null;var path=JSON.parse(t.getAttribute("path"));o||this.select(path,!1,e),this.setLastSelectedNode(this.getNode(path))}},onKeyUp:function(e){switch(e.code){case"ArrowUp":case"ArrowDown":this.lastSelectedNodesPathStr=this.getSelected().map((function(e){return e.pathStr}));break;case"Enter":if(!this.lastSelectedNode)return;this.select(this.lastSelectedNode.path,!1,e),this.$refs.tree.emitNodeClick(this.lastSelectedNode,e);break;case"ArrowLeft":if(!this.lastSelectedNode)return;if(!this.lastSelectedNode.isExpanded){var path=JSON.parse(this.lastSelectedNode.pathStr);path.pop();var t=this.$refs.tree.multiSelectKeyIsPressed(e),l=this.$refs.tree.allowMultiselect&&this.lastSelectedNode&&e&&e.shiftKey;return void(path.length>0&&!t&&!l&&(this.select(path,!1,e),this.lastSelectedNodesPathStr=this.getSelected().map((function(e){return e.pathStr}))))}case"ArrowRight":if(!this.$refs.tree.allowToggleBranch||!this.lastSelectedNode)return;var o="ArrowRight"===e.code;this.lastSelectedNode.isExpanded=o,this.updateNode(this.lastSelectedNode.path,{isExpanded:o}),this.$refs.tree.emitToggle(this.lastSelectedNode,e),e.stopPropagation()}},onSelectStart:function(e){var t=this;0===e.button&&(this.contextMenuActive||this.$refs.tree.allowMultiselect&&(this.selectHelperStartPoint.y=e.clientY,this.selectHelperStartPoint.x=e.clientX,this.setSelectRect(0,0,0,0),this.setRootRect(),this.selectHelperDisplay=!0,this.$hiddenLayer.show(),document.onmousemove=function(e){t.onSelectMove(e)},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null,t.$hiddenLayer.hide(),t.onSelectEnd(e)}))},onSelectMove:function(e){var t=this;if(0===e.button&&this.selectHelperDisplay){var l=Math.min(Math.max(e.clientX,this.rootRect.x),this.rootRect.x+this.rootRect.width),o=Math.min(Math.max(e.clientY,this.rootRect.y),this.rootRect.y+this.rootRect.height);this.setSelectRect(Math.min(l,this.selectHelperStartPoint.x),Math.min(o,this.selectHelperStartPoint.y),Math.abs(l-this.selectHelperStartPoint.x),Math.abs(o-this.selectHelperStartPoint.y)),l=o=1/0,this.$refs.tree.$el.querySelectorAll(".sl-vue-tree-node-item").forEach((function(e){var r,n,c=e.getAttribute("path"),rect=e.getBoundingClientRect();(r=t.selectHelperRect,n=rect,r.x+r.width>=n.x&&r.x<=n.x+n.width&&r.y+r.height>=n.y&&r.y<=n.y+n.height)?((rect.y<o||rect.x<l)&&(t.selectHelperSelectionsFirstNodePosition.x=l=rect.x,t.selectHelperSelectionsFirstNodePosition.y=o=rect.y,t.selectHelperSelectionsFirstNode=c),t.selectHelperSelectionsSet.add(c)):t.selectHelperSelectionsSet.delete(c)})),this.select([0],!1,e)}},onSelectEnd:function(e){this.onSelectMove(e),0===e.button&&(this.contextMenuActive?this.contextMenuActive=!1:(this.selectHelperDisplay=!1,this.selectHelperSelectionsSet.clear(),this.selectHelperSelectionsFirstNode=null,this.lastSelectedNodesPathStr=this.getSelected().map((function(e){return e.pathStr}))))}}},r=o,n=(l(496),l(14)),component=Object(n.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"sl-vue-tree-container",attrs:{tabindex:"1"},on:{mousedown:e.onSelectStart,contextmenu:e.emitNodeContextmenu,keyup:e.onKeyUp,keydown:e.onKeyDown}},[t("div",{staticClass:"select-helper-container"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.lastSelectedNode,expression:"lastSelectedNode"}],ref:"selectHelperLast",staticClass:"select-helper-last"})]),e._v(" "),t("div",{staticClass:"select-helper-container"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.selectHelperDisplay,expression:"selectHelperDisplay"}],ref:"selectHelper",staticClass:"select-helper"})]),e._v(" "),t("SlVueTree",e._g(e._b({ref:"tree",scopedSlots:e._u([{key:"branch",fn:function(t){var l=t.node;return[e._t("branch",null,{node:l})]}},{key:"title",fn:function(t){var l=t.node;return[e._t("title",null,{node:l})]}},{key:"empty-node",fn:function(t){var l=t.node;return[e._t("empty-node",null,{node:l})]}},{key:"sidebar",fn:function(t){var l=t.node;return[e._t("sidebar",null,{node:l})]}},{key:"toggle",fn:function(t){var l=t.node;return[e._t("toggle",null,{node:l})]}}],null,!0)},"SlVueTree",e.$attrs,!1),e.$listeners),[e._v(" "),e._v(" "),e._v(" "),e._v(" "),e._v(" "),e._v(" "),t("template",{slot:"draginfo"},[e._t("draginfo")],2)],2)],1)}),[],!1,null,null,null);t.default=component.exports}}]);